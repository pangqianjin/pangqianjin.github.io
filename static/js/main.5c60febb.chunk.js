(this["webpackJsonpmd-editor"]=this["webpackJsonpmd-editor"]||[]).push([[0],{343:function(e,t,n){},344:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(29),r=n.n(c),l=(n(74),n(75),n(76),n(68)),s=n(45),d=n(30),o=n(31),u=n(38),h=n(37),f=n(21),b=n.n(f),v=n(61),j=n.n(v),y=n(44),p=n.n(y),S=(n(60),new j.a({html:!0,xhtmlOut:!0,breaks:!0,langPrefix:"language-",linkify:!0,typographer:!0,quotes:"\u201c\u201d\u2018\u2019",highlight:function(e,t){if(t&&p.a.getLanguage(t))try{return'<pre class="hljs"><code>'+p.a.highlight(t,e,!0).value+"</code></pre>"}catch(n){}return'<pre class="hljs"><code>'+S.utils.escapeHtml(e)+"</code></pre>"}})),g=S,m=function(e){var t=e.split("\n");t=t.map((function(e){return e+"\n"}));var n=new File(t,"demo.md"),a=URL.createObjectURL(n);fetch(a).then((function(e){return e.blob()})).then((function(e){var t=document.createElement("a");document.body.appendChild(t),t.style.display="none";var n=window.URL.createObjectURL(e);t.href=n,t.download="demo.md",t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(n)}))},O=(n(343),n(344),n(7)),x=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={value:"",lastValues:[],htmlString:"",shift:!1,ctrl:!0},e.onChange=function(t){var n=t.target.value;e.setState({value:n}),e.setHtmlString(n)},e.setHtmlString=function(t){var n=g.render(t);e.setState({htmlString:n})},e.handleKeydown=function(t){var n=t.keyCode,a=e.state,i=a.shift,c=a.ctrl;if(17===n&&e.setState({ctrl:!0}),16===n&&e.setState({shift:!0}),i&&c)73===n&&(t.preventDefault(),e.addStyles("![ ]( )","",!1)),75===n&&(t.preventDefault(),e.addStyles("```\n\n","```",!1));else if(c)if(66===n)e.addStyles("**","**");else if(73===n)e.addStyles("*","*");else if(90===n){var r=e.state.lastValues,l=r.length;if(0!==l){var d=r[l-1];e.setState({value:d,lastValues:Object(s.a)(r.slice(0,l-1))})}}9===n&&(t.preventDefault(),e.addStyles("  ","  "))},e.handleKeydup=function(t){var n=t.keyCode;16===n?e.setState({shift:!1}):17===n&&e.setState({ctrl:!1})},e.addStyles=function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.state.value,c=e.editNode.resizableTextArea.textArea,r=c.selectionStart,l=c.selectionEnd;a?i=r===l?i.slice(0,r)+t+n+i.slice(l):i.slice(0,r)+t+i.slice(r,l)+n+i.slice(l):a||r!==l||(i=i.slice(0,r)+t+n+i.slice(l)),e.setState({value:i}),e.editNode.resizableTextArea.textArea.focus()},e.download=function(){m(e.state.value)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){var t=e.state,n=t.lastValues,a=t.value;n[n.length-1]!==a&&e.setState({lastValues:[].concat(Object(s.a)(n),[a])})}),2e3),b.a.subscribe("addStyles",(function(t,n){var a=n.char1,i=n.char2,c=n.wrap;e.addStyles(a,i,c)})),b.a.subscribe("download",(function(){e.download()}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),b.a.unsubscribe("addStyles"),b.a.unsubscribe("download")}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,a=t.htmlString;return Object(O.jsxs)("div",{id:"editor-body",children:[Object(O.jsx)(l.a.TextArea,{id:"editor",ref:function(t){return e.editNode=t},onKeyDown:this.handleKeydown,onKeyUp:this.handleKeydup,value:n,onChange:this.onChange,autoSize:{minRows:24},bordered:!1}),Object(O.jsx)("div",{id:"preview",dangerouslySetInnerHTML:{__html:a}})]})}}]),n}(a.Component),w=(n(48),n(16)),k=n(352),C=(n(347),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(d.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).save=function(){b.a.publish("download")},e.addStyles=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(){b.a.publish("addStyles",{char1:e,char2:t,wrap:n})}},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{id:"header",children:[Object(O.jsx)(w.a,{onClick:this.save,type:"primary",children:"\u4e0b\u8f7d"}),Object(O.jsx)(w.a,{onClick:this.addStyles("**","**"),children:"\u52a0\u7c97"}),Object(O.jsx)(w.a,{onClick:this.addStyles("*","*"),children:"\u659c\u4f53"}),Object(O.jsx)(w.a,{onClick:this.addStyles("<u> "," </u>"),children:"\u4e0b\u5212\u7ebf"}),Object(O.jsx)(w.a,{onClick:this.addStyles("```\n\n","```",!1),children:"\u4ee3\u7801\u5757"}),Object(O.jsx)(w.a,{onClick:this.addStyles("\x3c!-- "," --\x3e"),children:"\u6ce8\u91ca"}),Object(O.jsx)(w.a,{onClick:this.addStyles("![ ]( )","",!1),children:"\u63d2\u5165\u56fe\u7247"}),Object(O.jsx)(w.a,{onClick:this.addStyles("[ ]( )","",!1),children:"\u8d85\u94fe\u63a5"}),Object(O.jsx)("a",{href:"https://github.com/pangqianjin",children:Object(O.jsx)(k.a,{style:{fontSize:"30px",margin:"0.25em"}})})]})}}]),n}(a.Component));var L=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(C,{id:"header"}),Object(O.jsx)(x,{id:"editor-body"})]})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,353)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),c(e),r(e)}))};r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(L,{})}),document.getElementById("root")),A()},74:function(e,t,n){},75:function(e,t,n){}},[[348,1,2]]]);
//# sourceMappingURL=main.5c60febb.chunk.js.map